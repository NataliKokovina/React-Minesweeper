(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(2),o=a(4),s=a(3),l=a(5),u=a(0),c=a.n(u),i=a(7),d=a.n(i),b=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return this.props.value[1]?c.a.createElement("button",{className:"square-is-open"},this.props.value[0]):c.a.createElement("button",{className:"square-is-close",onClick:function(){return e.props.open(e.props)}}," ")}}]),t}(c.a.Component),m=function(e){var t=e.cells.map((function(t,a){return c.a.createElement(b,{value:t,open:e.open,y:e.y,x:a,key:a})}));return c.a.createElement("div",{className:"row"},t)},h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).open=function(e){var t=a.state.board,n=t[e.y][e.x];"X"===e.value[0]?window.setTimeout((function(){alert("You lose!"),window.location.reload()}),50):(a.setState({openCell:a.state.openCell+1}),n[1]=!0,a.setState({board:t}),a.state.openCell===a.countGoodCell()-1&&window.setTimeout((function(){alert("You win!"),window.location.reload()}),50))},a.state={board:a.startGame(e),openCell:0},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"countGoodCell",value:function(){for(var e=0,t=0;t<this.state.board.length;t++)for(var a=0;a<this.state.board.length;a++)"X"!==this.state.board[t][a][0]&&e++;return e}},{key:"countBomb",value:function(e,t,a){var n=0;return t>0&&(1===e.board[t-1][a]&&n++,a<e.board[t].length-1&&1===e.board[t-1][a+1]&&n++),a>0&&(t<e.board[t].length-1&&1===e.board[t+1][a-1]&&n++,1===e.board[t][a-1]&&n++),a>0&&t>0&&1===e.board[t-1][a-1]&&n++,t<e.board[t].length-1&&(1===e.board[t+1][a]&&n++,a<e.board[t].length-1&&1===e.board[t+1][a+1]&&n++),a<e.board[t].length&&1===e.board[t][a+1]&&n++,n}},{key:"startGame",value:function(e){for(var t=[],a=0;a<e.board.length;a++){t.push([]);for(var n=0;n<e.board[a].length;n++)if(1!==e.board[a][n]){var r=this.countBomb(e,a,n);0===r&&(r=" "),t[a].push([r,!1])}else t[a].push(["X",!1])}return t}},{key:"render",value:function(){var e=this,t=this.state.board.map((function(t,a){return c.a.createElement(m,{cells:t,open:e.open,y:a,key:a})}));return c.a.createElement("div",null,c.a.createElement("div",{className:"board-row"},t))}}]),t}(c.a.Component),p=(a(13),function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this))).state={minefield:e.makeField(10,10,15),status:"start"},e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"makeField",value:function(e,t,a){for(var n=[],r=a,o=0;o<e;o++){for(var s=[],l=0;l<t;l++)s.push(0);n.push(s)}for(;r;){var u=Math.floor(Math.random()*e),c=Math.floor(Math.random()*t);0===n[u][c]&&(n[u][c]=1,r--)}return n}},{key:"handleClick",value:function(){window.location.reload()}},{key:"render",value:function(){var e=this;return console.log(),"play"===this.state.status?c.a.createElement("div",{className:"game"},c.a.createElement("h1",{className:"game__title"},"Minesweeper"),c.a.createElement(h,{board:this.state.minefield,status:this.state.status}),c.a.createElement("button",{className:"button_reset",onClick:function(){return e.handleClick()}},"reset")):c.a.createElement("div",{className:"game"},c.a.createElement("button",{className:"button_start",onClick:function(){return e.setState({status:"play"})}},"Start"))}}]),t}(c.a.Component));d.a.render(c.a.createElement(p,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.f69b7e53.chunk.js.map